<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Script-Type" content="text/javascript">
<meta name="keywords" content="CentOS,Ubuntu,Fedora,Debian,Linux,KVM,Virtualization">
<meta name="description" content="The site for people who want to establish the Network Server with CentOS, Ubuntu, Fedora, Debian">
<title>Ubuntu 12.04 LTS - NIS Server - Configure NIS Server : Server World</title>
<link href="css\base.css" media="screen" rel="stylesheet" type="text/css">
<link href="css\navi.css" media="screen" rel="stylesheet" type="text/css">
<link href="css\main.css" media="screen" rel="stylesheet" type="text/css">
<link href="css\position.css" media="screen" rel="stylesheet" type="text/css">
<link href="css\print.css" media="print" rel="stylesheet" type="text/css">
<script type="text/javascript" src="command\popup.js"></script>
<script type="text/javascript">
hs.graphicsDir = './command/graphics/';
hs.outlineType = 'rounded-white';
hs.wrapperClassName = 'draggable-header';
</script>
</head>
<body>
<div id="top-menu">
<table id="menu-table" summary="menu">
<tr>
<td class="menu" style="width: 13%;"><a href="..\index.htm">Server World</a></td>
<td class="menu">
<div class="top_navi">
<ul>
<li><a href="note.html">Other OS Configs</a>
<ul>
<li><a href="note (1).html">CentOS 7</a></li>
<li><a href="note (2).html">CentOS 6</a></li>
<li><a href="note (3).html">Fedora 27</a></li>
<li><a href="note (4).html">Fedora 26</a></li>
<li><a href="note (5).html">Debian 9</a></li>
<li><a href="note (6).html">Debian 8</a></li>
<li><a href="note (7).html">Ubuntu 17.04</a></li>
<li><a href="note (8).html">Ubuntu 16.04 LTS</a></li>
<li><a href="note (9).html">SUSE Linux Enterprise 12</a></li>
<li><a href="note (10).html">SUSE Linux Enterprise 11</a></li>
<li><a href="note (11).html">Windows Server 2016</a></li>
<li><a href="note (12).html">Windows Server 2012 R2</a></li>
<li><a href="note (13).html">Other Tips</a></li>
</ul>
<ul style="position: absolute; margin-left: 18em; z-index: 90;">
<li><a href="note (14).html">CentOS 5</a></li>
<li><a href="note (15).html">Fedora 25</a></li>
<li><a href="note (16).html">Fedora 24</a></li>
<li><a href="note (17).html">Fedora 23</a></li>
<li><a href="note (18).html">Fedora 22</a></li>
<li><a href="note (19).html">Fedora 21</a></li>
<li><a href="note (20).html">Fedora 20</a></li>
<li><a href="note (21).html">Fedora 19</a></li>
<li><a href="note (22).html">Fedora 18</a></li>
<li><a href="note (23).html">Fedora 17</a></li>
<li><a href="note (24).html">Fedora 16</a></li>
<li><a href="note (25).html">Fedora 15</a></li>
<li><a href="note (26).html" style="border-bottom: #aaaaaa 0px solid;">Fedora 14</a></li>
</ul>
<ul style="position: absolute; margin-left: 36em; z-index: 80;">
<li><a href="note (27).html">Debian 7</a></li>
<li><a href="note (28).html">Debian 6</a></li>
<li><a href="note (29).html">Ubuntu 15.04</a></li>
<li><a href="note (30).html">Ubuntu 14.04 LTS</a></li>
<li><a href="note (31).html">Ubuntu 13.04</a></li>
<li><a href="note (32).html">Ubuntu 12.04 LTS</a></li>
<li><a href="note (33).html">Ubuntu 11.04</a></li>
<li><a href="note (34).html">Ubuntu 10.04 LTS</a></li>
<li><a href="note (35).html">Fedora 13</a></li>
<li><a href="note (36).html">Fedora 12</a></li>
<li><a href="note (37).html">Fedora 11</a></li>
<li><a href="note (38).html">Fedora 10</a></li>
<li><a href="note (39).html" style="border-bottom: #aaaaaa 0px solid;">Scientific Linux 6</a></li>
</ul>
</li>
</ul>
</div>
</td>
<td class="menu"><a href="note (40).html">Introductions</a></td>
<td class="menu"><a href="note (41).html">Histories</a></td>
<td class="menu"><a href="note (42).html">Commands Help</a></td>
<td class="menu"><a href="note (43).html">Links/Contact</a></td>
<td class="menu" style="width: 13%;">
<div class="count">8799 / 62643535</div>
</td>
</tr>
</table>
</div>
<div id="left">
<div class="os">Ubuntu 12.04</div>
<div class="navi">
<ul>
<li><a href="note (32).html">Get Ubuntu 12.04</a></li>
<li><a href="note (4711).html">Install Ubuntu</a></li>
<li class="tree"><a href="note (4712).html">Initial Settings</a>
<ul>
<li><a href="note (4713).html">(1) Add a user</a></li>
<li><a href="note (4714).html">(2) Enable root user</a></li>
<li><a href="note (4715).html">(3) Network Settings</a></li>
<li><a href="note (4716).html">(4) Configure Services</a></li>
<li><a href="note (4717).html">(5) Update System</a></li>
<li><a href="note (4718).html">(6) Configure vim</a></li>
<li style="border-bottom: 0px"><a href="note (4719).html">(7) Configure sudo</a></li>
</ul>
</li>
<li><a href="note (4720).html">NTP Server</a></li>
<li class="tree"><a href="note (4721).html">SSH Server</a>
<ul>
<li><a href="note (4722).html">(1) Password Authentication</a></li>
<li><a href="note (4723).html">(2) Keys Authentication</a></li>
<li style="border-bottom: 0px"><a href="note (4724).html">(3) SFTP</a></li>
</ul>
</li>
<li class="tree"><a href="note (4725).html">DNS Server</a>
<ul>
<li><a href="note (4726).html">(1) Install BIND</a></li>
<li><a href="note (4727).html">(2) Set Zones</a></li>
<li><a href="note (4728).html">(3) Check working</a></li>
<li><a href="note (4729).html">(4) Set CNAME</a></li>
<li style="border-bottom: 0px"><a href="note (4730).html">(5) Config as a Slave Server</a></li>
</ul>
</li>
<li><a href="note (4731).html">DHCP Server</a></li>
<li class="tree"><a href="note (4732).html">Storage Server</a>
<ul>
<li><a href="note (4733).html">(1) Configure iSCSI Target</a></li>
<li style="border-bottom: 0px"><a href="note (4734).html">(2) Configure iSCSI Initiator</a></li>
</ul>
</li>
<li class="tree"><a href="note (4735).html">KVM</a>
<ul>
<li><a href="note (4736).html">(1) Install KVM</a></li>
<li><a href="note (4737).html">(2) Create virtual machine #1</a></li>
<li><a href="note (4738).html">(3) Create virtual machine #2</a></li>
<li><a href="note (4739).html">(4) Create virtual machine #3</a></li>
<li><a href="note (4740).html">(5) Operations</a></li>
<li style="border-bottom: 0px"><a href="note (4741).html">(6) Install Virt-top</a></li>
</ul>
</li>
<li class="tree"><a href="note (4742).html">Cloud Compute</a>
<ul style="position: absolute; margin-top: -1.9em;">
<li style="background: #dcdcdc; border-bottom: #696969 1px solid;"><a href="note (4742).html">&nbsp; OpenStack Havana</a></li>
<li><a href="note (4743).html">( 1 ) About OpenStack Havana</a></li>
<li><a href="note (4744).html">( 2 ) Pre-Requirements</a></li>
<li><a href="note (4745).html">( 3 ) Conf Keystone#1</a></li>
<li><a href="note (4746).html">( 4 ) Conf Keystone#2</a></li>
<li><a href="note (4747).html">( 5 ) Conf Glance</a></li>
<li><a href="note (4748).html">( 6 ) Conf Nova</a></li>
<li><a href="note (4749).html">( 7 ) Add Virt-image</a></li>
<li><a href="note (4750).html">( 8 ) Run Instance</a></li>
<li><a href="note (4751).html">( 9 ) Set Floating IP</a></li>
<li><a href="note (4752).html">(10) Add Compute Nodes</a></li>
<li><a href="note (4753).html">(11) Configure Horizon</a></li>
<li><a href="note (4754).html">(12) Configure Cinder</a></li>
<li style="border-bottom: #696969 0px solid;"><a href="note (4755).html">(13) Use Virtual Storage(LVM)</a></li>
</ul>
</li>
<li><a href="note (4756).html">NFS Server</a></li>
<li class="tree"><a href="note (4757).html">NIS Server</a>
<ul>
<li><a href="note (4758).html">(1) Configure NIS Server</a></li>
<li style="border-bottom: 0px"><a href="note (4759).html">(2) Configure NIS Client</a></li>
</ul>
</li>
<li class="tree"><a href="note (4760).html">LDAP Server</a>
<ul>
<li><a href="note (4761).html">(1) Configure LDAP Server</a></li>
<li style="border-bottom: 0px"><a href="note (4762).html">(2) Configure LDAP Client</a></li>
</ul>
</li>
<li class="tree"><a href="note (4763).html">WEB Server</a>
<ul style="position: absolute; margin-top: -7.4em;">
<li><a href="note (4764).html">( 1 ) Install Apache2</a></li>
<li><a href="note (4765).html">( 2 ) Install PHP</a></li>
<li><a href="note (4766).html">( 3 ) Install Ruby</a></li>
<li><a href="note (4767).html">( 4 ) Enable Userdir</a></li>
<li><a href="note (4768).html">( 5 ) Virtual Hostings</a></li>
<li><a href="note (4769).html">( 6 ) Configure SSL</a></li>
<li><a href="note (4770).html">( 7 ) Configure WebDAV</a></li>
<li><a href="note (4771).html">( 8 ) Enable suEXEC</a></li>
<li><a href="note (4772).html">( 9 ) Basic Auth + PAM</a></li>
<li><a href="note (4773).html">(10) Basic Auth + LDAP</a></li>
<li><a href="note (4774).html">(11) Log analyzer - Visitors</a></li>
<li style="border-bottom: 0px"><a href="note (4775).html">(12) Log analyzer - AWstats</a></li>
</ul>
</li>
<li class="tree"><a href="note (4776).html">Database</a>
<ul>
<li><a href="note (4777).html">(1) Install MySQL</a></li>
<li style="border-bottom: 0px"><a href="note (4778).html">(2) Install phpmyadmin</a></li>
</ul>
</li>
<li class="tree"><a href="note (4779).html">FTP Server</a>
<ul>
<li><a href="note (4780).html">(1) Install Vsftpd</a></li>
<li><a href="note (4781).html">(2) Install ProFTPD</a></li>
<li><a href="note (4782).html">(3) Install Pure-FTPd</a></li>
<li><a href="note (4783).html">(4) FTP Client - FileZilla</a></li>
<li><a href="note (4784).html">(5) Vsftpd over TLS/SSL</a></li>
<li><a href="note (4785).html">(6) ProFTPD over TLS/SSL</a></li>
<li style="border-bottom: 0px"><a href="note (4786).html">(7) Pure-FTPd Over SSL/TLS</a></li>
</ul>
</li>
<li class="tree"><a href="note (4787).html">MAIL Server</a>
<ul>
<li><a href="note (4788).html">(1) Install/Configure Postfix</a></li>
<li><a href="note (4789).html">(2) Install/Configure Dovecot</a></li>
<li><a href="note (4790).html">(3) Configure Client</a></li>
<li><a href="note (4791).html">(4) Configure SSL</a></li>
<li><a href="note (4792).html">(5) Virtual Domains</a></li>
<li><a href="note (4793).html">(6) Run with Clamav - ClamSMTP</a></li>
<li style="border-bottom: 0px"><a href="note (4794).html">(7) Log Analyzer - pflogsumm</a></li>
</ul>
</li>
<li class="tree"><a href="note (4795).html">Samba Server</a>
<ul>
<li><a href="note (4796).html">(1) Create Fully Accessed Directory</a></li>
<li><a href="note (4797).html">(2) Create Limited Directory</a></li>
<li style="border-bottom: 0px"><a href="note (4798).html">(3) Install SWAT</a></li>
</ul>
</li>
<li class="tree"><a href="note (4799).html">Proxy Server</a>
<ul>
<li><a href="note (4800).html">(1) Install Squid</a></li>
<li><a href="note (4801).html">(2) Run with Clamav - SquidClamav</a></li>
<li><a href="note (4802).html">(3) Run with SquidClamav</a></li>
<li style="border-bottom: 0px"><a href="note (4803).html">(4) Configure as a Reverse Proxy</a></li>
</ul>
</li>
<li class="tree"><a href="note (4804).html">Desktop Env</a>
<ul>
<li><a href="note (4805).html">(1) Configure Desktop Environment</a></li>
<li style="border-bottom: 0px"><a href="note (4806).html">(2) Install VNC Server</a></li>
</ul>
</li>
<li id="other"><a href="note (4807).html">Others</a>
<ul style="position: absolute; margin-top: -1.9em;">
<li><a href="note (4808).html">Create SSL Certificates</a></li>
<li><a href="note (4809).html">Add Hard Drive</a></li>
<li style="border-bottom: 0px"><a href="note (4807).html">Clamav <span style="display:inline;position:absolute;left:110px;">- Anti-Virus</span></a></li>
</ul>
</li>
</ul>
</div>
<div style="display: inline-block; width: 100%; font-size: 12px; text-align: center; background-color: #dcdcdc; border-bottom: 1px solid #696969; border-top: 2px solid #dcdcdc;">Sponsored Link</div>
<div id="bann">
<script type="text/javascript">
    google_ad_client = "ca-pub-6423793798099903";
    google_ad_slot = "6315121180";
    google_ad_width = 160;
    google_ad_height = 600;
</script>
<script type="text/javascript" src="//pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>
</div>
<div id="contents">
<br>
<table style="width: 96%; line-height: 1.5; margin-top: 5px; margin-bottom: 10px; margin-left: auto; margin-right: auto;" summary="subject">
<tr>
<td style="width: 100%; height: 28px; color: #ff3399; padding-left: 50px; background: url(./img/icon.gif) #ffffff no-repeat 0 0;">
<div class="subject">Configure NIS Server<div class="date">2012/05/07</div></div>
</td>
</tr>
</table>
<table class="base" summary="1">
<tr>
<td class="num">&nbsp;</td>
<td>
<div class="block">
Configure NIS server in order to share users' accounts in local network.
</div>
</td>
</tr>
<tr>
<td class="num">[1]</td>
<td>Install NIS system 
</td>
</tr>
</table>
<table class="term" summary="1-1">
<tr>
<td>
<div class="block">
root@dlp:~# <div class="color1"><a href="command\html\aptitude.html" onclick="return hs.htmlExpand(this, { objectType: 'iframe' } )" onkeypress="">aptitude</a> -y install nis </div></div>
<div class="block">
Preconfiguring packages ...</div>
<div class="color2"># input domain name</div><br>
<div class="color2"># Autostart NIS in installation will be fail because configuration is none yet, so wait for a moment to finish it.</div><br>
<img src="Ubuntu_12.04\nis\img\1.jpg" width="600" height="233" alt=""><br>
</td>
</tr>
</table>
<table class="base" summary="2">
<tr>
<td class="num">[2]</td>
<td>Configure NIS Server 
</td>
</tr>
</table>
<table class="term" summary="2-1">
<tr>
<td>
<div class="block">
root@dlp:~# <div class="color1"><a href="command\html\vi.html" onclick="return hs.htmlExpand(this, { objectType: 'iframe' } )" onkeypress="">vi</a> /etc/default/nis </div></div>
<div class="block">
<div class="color2"># line 6: change (set NIS master server)</div><br>
NISSERVER=<div class="color1">master</div>
</div>
<div class="block">
root@dlp:~# <div class="color1"><a href="command\html\vi.html" onclick="return hs.htmlExpand(this, { objectType: 'iframe' } )" onkeypress="">vi</a> /etc/ypserv.securenets </div></div>
<div class="block">
# This line gives access to everybody. PLEASE ADJUST!<br>
<div class="color2"># make it comment</div><br>
<div class="color1">#</div> 0.0.0.0         0.0.0.0
</div>
<div class="color2"># add at the last: IP address you allow</div><br>
<div class="color1">
<pre style="font-family: Consolas, Courier, Monaco, monospace;">
255.255.255.0           10.0.0.0

</pre>
</div>
<div class="block">
root@dlp:~# <div class="color1"><a href="command\html\vi.html" onclick="return hs.htmlExpand(this, { objectType: 'iframe' } )" onkeypress="">vi</a> /var/yp/Makefile </div></div>
<div class="block">
<div class="color2"># line 119: add</div><br>
ALL =   passwd <div class="color1">shadow </div>group hosts rpc services netid protocols netgrp
</div>
<div class="block">
root@dlp:~# <div class="color1"><a href="command\html\vi.html" onclick="return hs.htmlExpand(this, { objectType: 'iframe' } )" onkeypress="">vi</a> /etc/hosts </div></div>
<pre style="font-family: Consolas, Courier, Monaco, monospace;">
127.0.0.1       localhost
127.0.1.1       dlp
</pre>
<div class="color2"># add own IP address for NIS database</div><br>
<div class="color1">
<pre style="font-family: Consolas, Courier, Monaco, monospace;">
10.0.0.30       dlp

</pre>
</div>
<div class="block">
root@dlp:~# <div class="color1">/usr/lib/yp/ypinit -m</div><div class="posl-1"><div class="color2"># update NIS database</div></div></div>
<pre style="font-family: Consolas, Courier, Monaco, monospace;">
At this point, we have to construct a list of the hosts which will run NIS
servers.  dlp is in the list of NIS server hosts.  Please continue to add
the names for the other hosts, one per line.  When you are done with the
list, type a &lt;control D&gt;.
        next host to add:  dlp
</pre>
&nbsp; &nbsp; &nbsp; &nbsp; next host to add:<div class="posl-1"><div class="color2"># push Ctrl+D</div></div><br>
<pre style="font-family: Consolas, Courier, Monaco, monospace;">
The current list of NIS servers looks like this:

dlp

</pre>
Is this correct?  [y/n: y] <div class="color1">y</div><br>
<pre style="font-family: Consolas, Courier, Monaco, monospace;">
We need a few minutes to build the databases...
Building /var/yp/srv.world/ypservers...
Running /var/yp/Makefile...
make[1]: Entering directory `/var/yp/srv.world'
Updating passwd.byname...
Updating passwd.byuid...
Updating shadow.byname...
Updating group.byname...
Updating group.bygid...
Updating hosts.byname...
Updating hosts.byaddr...
Updating rpc.byname...
Updating rpc.bynumber...
Updating services.byname...
Updating services.byservicename...
Updating netid.byname...
Updating protocols.bynumber...
Updating protocols.byname...
Updating netgroup...
Updating netgroup.byhost...
Updating netgroup.byuser...
make[1]: Leaving directory `/var/yp/srv.world'

drv.srv.world has been set up as a NIS master server.

Now you can run ypinit -s drv.srv.world on all slave server.

</pre>
root@dlp:~# <div class="color1">service ypserv start </div><br>
ypserv start/running, process 1972<br>
<div class="block">
root@dlp:~# <div class="color1"><a href="command\html\sysv-rc-conf.html" onclick="return hs.htmlExpand(this, { objectType: 'iframe' } )" onkeypress="">sysv-rc-conf</a> ypserv on </div></div>
<div class="color2"># It's neccessary to update NIS database with following way if new user is added again</div><br>
root@dlp:~# <div class="color1"><a href="command\html\cd.html" onclick="return hs.htmlExpand(this, { objectType: 'iframe' } )" onkeypress="">cd</a> /var/yp</div><br>
root@dlp:/var/yp# <div class="color1"><a href="command\html\make.html" onclick="return hs.htmlExpand(this, { objectType: 'iframe' } )" onkeypress="">make</a></div>
</td>
</tr>
</table>
<div style="width: 100%; border-top: 1px #696969 solid; padding-top: 20px; padding-bottom: 20px;">
<div style="width: 728px; height: 90px; margin-left: auto; margin-right: auto;">
<script type="text/javascript">
    google_ad_client = "ca-pub-6423793798099903";
    google_ad_slot = "3679227322";
    google_ad_width = 728;
    google_ad_height = 90;
</script>
<script type="text/javascript" src="//pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>
</div>
</div>
<div id="right">
<div class="os">NIS Server</div>
<div class="navi2">
<ul>
<li><a href="note (4758).html">NIS Server</a></li>
<li><a href="note (4759).html">NIS Client</a></li>
</ul>
</div>
<div style="width: 160px; text-align: center;">
<div style="display: inline-block; width: 100%; font-size: 12px; text-align: center; background-color: #dcdcdc; border-bottom: 1px solid #696969; border-top: 2px solid #dcdcdc;">Sponsored Link</div>
<script type="text/javascript">
    google_ad_client = "ca-pub-6423793798099903";
    google_ad_slot = "6315121180";
    google_ad_width = 160;
    google_ad_height = 600;
</script>
<script type="text/javascript" src="//pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>
</div>
<div id="footer">Copyright &copy; 2007-2018 Server World All Rights Reserved.
<script type="text/javascript" src="bin\count.js"></script>
<img src="../bin/count/count.cgi?1" width="1" height="1" alt="">
</div>
<div id="fb-root">&nbsp;</div>
<script type="text/javascript">(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
<div id="toolbar0">
<script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>
<g:plusone size="Medium"></g:plusone>
</div>
<div id="toolbar1">
<fb:like href="note (4810).html" send="true" layout="button_count" width="450" show_faces="true"></fb:like>
</div>
<div id="toolbar2">
<a href="https://twitter.com/share" class="twitter-share-button">Tweet</a>
<script type="text/javascript">!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-11962766-1");
pageTracker._trackPageview();
} catch(err) {}
</script>
</body>
</html>
