<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Script-Type" content="text/javascript">
<meta name="keywords" content="CentOS,Ubuntu,Fedora,Debian,Linux,KVM,Virtualization">
<meta name="description" content="The site for people who want to establish the Network Server with CentOS, Ubuntu, Fedora, Debian">
<title>SUSE Linux Enterprise 11 SP4 : SSL Settings (Postfix &amp; Cyrus-IMAP) : Server World</title>
<link href="css\base.css" media="screen" rel="stylesheet" type="text/css">
<link href="css\navi.css" media="screen" rel="stylesheet" type="text/css">
<link href="css\main.css" media="screen" rel="stylesheet" type="text/css">
<link href="css\position.css" media="screen" rel="stylesheet" type="text/css">
<link href="css\print.css" media="print" rel="stylesheet" type="text/css">
<script type="text/javascript" src="command\popup.js"></script>
<script type="text/javascript">
hs.graphicsDir = './command/graphics/';
hs.outlineType = 'rounded-white';
hs.wrapperClassName = 'draggable-header';
</script>
</head>
<body>
<div id="top-menu">
<table id="menu-table" summary="menu">
<tr>
<td class="menu" style="width: 13%;"><a href="..\index.htm">Server World</a></td>
<td class="menu">
<div class="top_navi">
<ul>
<li><a href="note.html">Other OS Configs</a>
<ul>
<li><a href="note (1).html">CentOS 7</a></li>
<li><a href="note (2).html">CentOS 6</a></li>
<li><a href="note (3).html">Fedora 27</a></li>
<li><a href="note (4).html">Fedora 26</a></li>
<li><a href="note (5).html">Debian 9</a></li>
<li><a href="note (6).html">Debian 8</a></li>
<li><a href="note (7).html">Ubuntu 17.04</a></li>
<li><a href="note (8).html">Ubuntu 16.04 LTS</a></li>
<li><a href="note (9).html">SUSE Linux Enterprise 12</a></li>
<li><a href="note (10).html">SUSE Linux Enterprise 11</a></li>
<li><a href="note (11).html">Windows Server 2016</a></li>
<li><a href="note (12).html">Windows Server 2012 R2</a></li>
<li><a href="note (13).html">Other Tips</a></li>
</ul>
<ul style="position: absolute; margin-left: 18em; z-index: 90;">
<li><a href="note (14).html">CentOS 5</a></li>
<li><a href="note (15).html">Fedora 25</a></li>
<li><a href="note (16).html">Fedora 24</a></li>
<li><a href="note (17).html">Fedora 23</a></li>
<li><a href="note (18).html">Fedora 22</a></li>
<li><a href="note (19).html">Fedora 21</a></li>
<li><a href="note (20).html">Fedora 20</a></li>
<li><a href="note (21).html">Fedora 19</a></li>
<li><a href="note (22).html">Fedora 18</a></li>
<li><a href="note (23).html">Fedora 17</a></li>
<li><a href="note (24).html">Fedora 16</a></li>
<li><a href="note (25).html">Fedora 15</a></li>
<li><a href="note (26).html" style="border-bottom: #aaaaaa 0px solid;">Fedora 14</a></li>
</ul>
<ul style="position: absolute; margin-left: 36em; z-index: 80;">
<li><a href="note (27).html">Debian 7</a></li>
<li><a href="note (28).html">Debian 6</a></li>
<li><a href="note (29).html">Ubuntu 15.04</a></li>
<li><a href="note (30).html">Ubuntu 14.04 LTS</a></li>
<li><a href="note (31).html">Ubuntu 13.04</a></li>
<li><a href="note (32).html">Ubuntu 12.04 LTS</a></li>
<li><a href="note (33).html">Ubuntu 11.04</a></li>
<li><a href="note (34).html">Ubuntu 10.04 LTS</a></li>
<li><a href="note (35).html">Fedora 13</a></li>
<li><a href="note (36).html">Fedora 12</a></li>
<li><a href="note (37).html">Fedora 11</a></li>
<li><a href="note (38).html">Fedora 10</a></li>
<li><a href="note (39).html" style="border-bottom: #aaaaaa 0px solid;">Scientific Linux 6</a></li>
</ul>
</li>
</ul>
</div>
</td>
<td class="menu"><a href="note (40).html">Introductions</a></td>
<td class="menu"><a href="note (41).html">Histories</a></td>
<td class="menu"><a href="note (42).html">Commands Help</a></td>
<td class="menu"><a href="note (43).html">Links/Contact</a></td>
<td class="menu" style="width: 13%;">
<div class="count">8128 / 62642864</div>
</td>
</tr>
</table>
</div>
<div id="left">
<div class="os">SLES 11 SP4</div>
<div class="navi">
<ul>
<li><a href="note (10).html">Download SLES 11</a></li>
<li><a href="note (2263).html">Install SLES 11</a></li>
<li class="tree"><a href="note (2264).html">Initial Settings</a>
<ul style="position: absolute; margin-top: -1.9em;">
<li><a href="note (2265).html">(1) Add Users</a></li>
<li><a href="note (2266).html">(2) FireWall</a></li>
<li><a href="note (2267).html">(3) Networking</a></li>
<li><a href="note (2268).html">(4) Services</a></li>
<li><a href="note (2269).html">(5) Activate System</a></li>
<li><a href="note (2270).html">(6) Update System</a></li>
<li><a href="note (2271).html">(7) Vim Settings</a></li>
<li style="border-bottom: 0px"><a href="note (2272).html">(8) Sudo Settings</a></li>
</ul>
</li>
<li class="tree"><a href="note (2273).html">NTP Server</a>
<ul>
<li><a href="note (2274).html">(1) Configure NTP Server</a></li>
<li style="border-bottom: 0px"><a href="note (2275).html">(2) Configure NTP Client</a></li>
</ul>
</li>
<li class="tree"><a href="note (2276).html">SSH Server</a>
<ul style="position: absolute; margin-top: -1.9em;">
<li><a href="note (2277).html">(1) KeyBoard-Intereractive Auth</a></li>
<li><a href="note (2278).html">(2) SSH File Transfer(SUSE)</a></li>
<li><a href="note (2279).html">(3) SSH File Transfer(Windows)</a></li>
<li><a href="note (2280).html">(4) SSH Key-Pair Authentication</a></li>
<li style="border-bottom: 0px"><a href="note (2281).html">(5) SFTP only + Chroot</a></li>
</ul>
</li>
<li class="tree"><a href="note (2282).html">DNS Server</a>
<ul style="position: absolute; margin-top: -1.9em;">
<li><a href="note (2283).html">(1) Install BIND</a></li>
<li><a href="note (2284).html">(2) Configure Zones</a></li>
<li><a href="note (2285).html">(3) Start BIND</a></li>
<li><a href="note (2286).html">(4) Chroot Environment</a></li>
<li><a href="note (2287).html">(5) Set CNAME</a></li>
<li style="border-bottom: 0px"><a href="note (2288).html">(6) Configure as a Slave Server</a></li>
</ul>
</li>
<li class="tree"><a href="note (2289).html">DHCP Server</a>
<ul>
<li><a href="note (2290).html">(1) Configure DHCP Server</a></li>
<li style="border-bottom: 0px"><a href="note (2291).html">(2) Configure DHCP Client</a></li>
</ul>
</li><li class="tree"><a href="note (2292).html">Storage Server</a>
<ul style="position: absolute; margin-top: -1.9em;">
<li style="background: #dcdcdc; border-bottom: #696969 1px solid;"><a href="note (2292).html">&nbsp; NFS</a></li>
<li><a href="note (2293).html">(1) Configure NFS Server</a></li>
<li style="border-bottom: 0px"><a href="note (2294).html">(2) Configure NFS Client</a></li>
<li style="background: #dcdcdc; border-top: #696969 1px solid;border-bottom: #696969 1px solid;"><a href="note (2295).html">&nbsp; iSCSI</a></li>
<li><a href="note (2296).html">(1) Configure iSCSI Target</a></li>
<li style="border-bottom: 0px"><a href="note (2297).html">(2) Configure iSCSI Initiator</a></li>
</ul>
</li>
<li class="tree"><a href="note (2298).html">Virtualization</a>
<ul style="position: absolute; margin-top: -3.8em;">
<li style="background: #dcdcdc; border-bottom: #696969 1px solid;"><a href="note (2298).html">&nbsp; KVM</a></li>
<li><a href="note (2299).html">(1) Install KVM</a></li>
<li><a href="note (2300).html">(2) Create Virtual Machine#1</a></li>
<li><a href="note (2301).html">(3) Create Virtual Machine#2</a></li>
<li><a href="note (2302).html">(4) Basic Operation</a></li>
<li><a href="note (2303).html">(5) Management Tools</a></li>
<li style="border-bottom: #696969 0px solid;"><a href="note (2304).html">(6) Nested KVM</a></li>
</ul>
</li>
<li class="tree"><a href="note (2305).html">Directory Server</a>
<ul style="position: absolute; margin-top: -3.7em;">
<li style="background: #dcdcdc; border-bottom: #696969 1px solid;"><a href="note (2305).html">&nbsp; OpenLDAP</a></li>
<li><a href="note (2306).html">(1) Configure LDAP Server</a></li>
<li><a href="note (2307).html">(2) Add User Accounts</a></li>
<li><a href="note (2308).html">(3) Configure LDAP Client</a></li>
<li><a href="note (2309).html">(4) LDAP over TLS</a></li>
<li style="border-bottom: #696969 1px solid;"><a href="note (2310).html">(5) LDAP Replication</a></li>
<li style="background: #dcdcdc; border-bottom: #696969 1px solid;"><a href="note (2311).html">&nbsp; NIS</a></li>
<li><a href="note (2312).html">(1) Configure NIS Server</a></li>
<li style="border-bottom: 0px"><a href="note (2313).html">(2) Configure NIS Client</a></li>
</ul>
</li>
<li class="tree"><a href="note (2314).html">WEB Server</a>
<ul style="position: absolute; margin-top: -11.0em;">
<li style="background: #dcdcdc; border-bottom: #696969 1px solid;"><a href="note (2314).html">&nbsp; Apache2</a></li>
<li><a href="note (2315).html">( 1 ) Install Apache2</a></li>
<li><a href="note (2316).html">( 2 ) Use Perl Scripts</a></li>
<li><a href="note (2317).html">( 3 ) Use PHP Scripts</a></li>
<li><a href="note (2318).html">( 4 ) Use Ruby Scripts</a></li>
<li><a href="note (2319).html">( 5 ) Use Python Scripts</a></li>
<li><a href="note (2320).html">( 6 ) Enable UserDir</a></li>
<li><a href="note (2321).html">( 7 ) Virtual Hostings</a></li>
<li><a href="note (2322).html">( 8 ) SSL Settings</a></li>
<li><a href="note (2323).html">( 9 ) Basic Authentication</a></li>
<li><a href="note (2324).html">(10) Kerberos Authentication</a></li>
<li style="border-bottom: 0px"><a href="note (2325).html">(11) Use WebDAV</a></li>
</ul>
</li>
<li class="tree"><a href="note (2326).html">Database</a>
<ul style="position: absolute; margin-top: -1.9em;">
<li style="background: #dcdcdc; border-bottom: #696969 1px solid;"><a href="note (2326).html">&nbsp; MySQL</a></li>
<li><a href="note (2327).html">(1) Install MySQL</a></li>
<li style="border-bottom: 0px"><a href="note (2328).html">(2) MySQL Replication</a></li>
</ul>
</li>
<li class="tree"><a href="note (2329).html">FTP Server</a>
<ul style="position: absolute; margin-top: -1.9em;">
<li><a href="note (2330).html">(1) Install Vsftpd</a></li>
<li><a href="note (2331).html">(2) FTP Client : SUSE</a></li>
<li><a href="note (2332).html">(3) FTP Client : Windows</a></li>
<li style="border-bottom: 0px"><a href="note (2333).html">(4) Vsftpd over TLS/SSL</a></li>
</ul>
</li>
<li class="tree"><a href="note (2334).html">MAIL Server</a>
<ul style="position: absolute; margin-top: -1.9em;">
<li><a href="note (2335).html">(1) Install Postfix</a></li>
<li><a href="note (2336).html">(2) Install Cyrus-IMAP</a></li>
<li><a href="note (2337).html">(3) Email Clients' Settings</a></li>
<li style="border-bottom: 0px"><a href="note (2338).html">(4) SSL Settings</a></li>
</ul>
</li>
<li class="tree"><a href="note (2339).html">File Server</a>
<ul style="position: absolute; margin-top: -1.9em;">
<li><a href="note (2340).html">(1) Create fully accessed Directory</a></li>
<li><a href="note (2341).html">(2) Create Limited Directory</a></li>
<li style="border-bottom: 0px"><a href="note (2342).html">(3) Install SWAT</a></li>
</ul>
</li>
<li class="tree"><a href="note (2343).html">Proxy Server</a>
<ul style="position: absolute; margin-top: -3.6em;">
<li><a href="note (2344).html">(1) Install Squid</a></li>
<li><a href="note (2345).html">(2) Proxy Clients' Settings</a></li>
<li><a href="note (2346).html">(3) Set Basic Auth</a></li>
<li><a href="note (2347).html">(4) Reverse Proxy Settings</a></li>
<li style="border-bottom: 0px"><a href="note (2348).html">(5) Squid + SquidGuard</a></li>
</ul>
</li>
<li class="tree"><a href="note (2349).html">Desktop Env</a>
<ul style="position: absolute; margin-top: -1.9em;">
<li><a href="note (2350).html">(1) Configure Desktop Environment</a></li>
<li><a href="note (2351).html">(2) Configure VNC Server</a></li>
<li style="border-bottom: 0px"><a href="note (2352).html">(3) Configure XRDP Server</a></li>
</ul>
</li>
<li id="other"><a href="note (2353).html">Others</a>
<ul style="position: absolute; margin-top: -1.9em;">
<li><a href="note (2354).html">Create SSL Certificates</a></li>
<li><a href="note (2355).html">Set Hostname</a></li>
<li style="border-bottom: 0px"><a href="note (2353).html">Clamav AntiVirus</a></li>
</ul>
</li>
</ul>
</div>
<div style="display: inline-block; width: 100%; font-size: 12px; text-align: center; background-color: #dcdcdc; border-bottom: 1px solid #696969; border-top: 2px solid #dcdcdc;">Sponsored Link</div>
<div id="bann">
<script type="text/javascript">
    google_ad_client = "ca-pub-6423793798099903";
    google_ad_slot = "6315121180";
    google_ad_width = 160;
    google_ad_height = 600;
</script>
<script type="text/javascript" src="//pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>
</div>
<div id="contents">
<br>
<table style="width: 96%; line-height: 1.5; margin-top: 5px; margin-bottom: 10px; margin-left: auto; margin-right: auto;" summary="subject">
<tr>
<td style="width: 100%; height: 28px; color: #ff3399; padding-left: 50px; background: url(./img/icon.gif) #ffffff no-repeat 0 0;">
<div class="subject">SSL Settings<div class="date">2015/12/06</div></div>
</td>
</tr>
</table>
<table class="base" summary="1">
<tr>
<td class="num">&nbsp;</td>
<td>
<div class="block">
Configure SSL to encrypt connections. SMTPS uses 465/TCP, POP3S uses 995/TCP, IMAPS uses 993/TCP.
</div>
</td>
</tr>
<tr>
<td class="num">[1]</td>
<td>
<div class="block">
<a href="note (2354).html">Create Certificates first, Refer to here</a>.
</div>
</td>
</tr>
<tr>
<td class="num">[2]</td>
<td>Configure Postfix and Cyrus-IMAP for SSL.
</td>
</tr>
</table>
<table class="term" summary="2">
<tr>
<td>
mail:~ # <div class="color1"><a href="command\html\cp.html" onclick="return hs.htmlExpand(this, { objectType: 'iframe' } )" onkeypress="">cp</a> /etc/ssl/private/server.* /etc/sasl2/ </div><br>
mail:~ # <div class="color1"><a href="command\html\chown.html" onclick="return hs.htmlExpand(this, { objectType: 'iframe' } )" onkeypress="">chown</a> cyrus:mail /etc/ssl/private/server.* </div><br>
<div class="block">
mail:~ # <div class="color1"><a href="command\html\vi.html" onclick="return hs.htmlExpand(this, { objectType: 'iframe' } )" onkeypress="">vi</a> /etc/cyrus.conf </div></div>
<div class="color2"># line 15,17: uncomment</div><br>
<pre style="font-family: Consolas, Courier, Monaco, monospace;">
imaps         cmd="imapd -s" listen="imaps" prefork=0
pop3s         cmd="pop3d -s" listen="pop3s" prefork=0

</pre>
<div class="block">
mail:~ # <div class="color1"><a href="command\html\vi.html" onclick="return hs.htmlExpand(this, { objectType: 'iframe' } )" onkeypress="">vi</a> /etc/services </div></div>
<div class="color2"># line 116: add</div><br>
<div class="color1">
<pre style="font-family: Consolas, Courier, Monaco, monospace;">
smtps              465/tcp      # Secure Mail Transfer
smtps              465/udp      # Secure Mail Transfer

</pre>
</div>
<div class="block">
mail:~ # <div class="color1"><a href="command\html\vi.html" onclick="return hs.htmlExpand(this, { objectType: 'iframe' } )" onkeypress="">vi</a> /etc/postfix/main.cf </div></div>
<div class="block">
<div class="color2"># line 702: change</div><br>
smtpd_use_tls = <div class="color1">yes</div>
</div>
<div class="block">
<div class="color1">
<div class="color2"># add to the end</div><br>
smtpd_tls_cert_file = /etc/sasl2/server.crt<br>
smtpd_tls_key_file = /etc/sasl2/server.key<br>
smtpd_tls_session_cache_database = btree:/etc/postfix/smtpd_scache</div>
</div>
<div class="block">
mail:~ # <div class="color1"><a href="command\html\vi.html" onclick="return hs.htmlExpand(this, { objectType: 'iframe' } )" onkeypress="">vi</a> /etc/postfix/master.cf </div></div>
<div class="block">
<div class="color2"># line 13-14: uncomment</div><br>
smtps &nbsp; &nbsp; inet  n &nbsp; &nbsp; - &nbsp; &nbsp; n &nbsp; &nbsp; - &nbsp; &nbsp; - &nbsp; &nbsp; smtpd -o smtpd_tls_wrappermode=yes<br>
 &nbsp; &nbsp; -o smtpd_tls_wrappermode=yes -o smtpd_sasl_auth_enable=yes
</div>
<div class="block">
<div class="color2"># line 23: uncomment</div><br>
tlsmgr &nbsp; &nbsp; unix &nbsp; &nbsp; - &nbsp; &nbsp; - &nbsp; &nbsp; n &nbsp; &nbsp; 1000? &nbsp; &nbsp; 1 &nbsp; &nbsp; tlsmgr
</div>
<div class="block">
mail:~ # <div class="color1"><a href="command\html\vi.html" onclick="return hs.htmlExpand(this, { objectType: 'iframe' } )" onkeypress="">vi</a> /etc/imapd.conf </div></div>
<div class="block">
<div class="color1">
<div class="color2"># add to the end</div><br>
tls_cert_file: /etc/sasl2/server.crt<br>
tls_key_file: /etc/sasl2/server.key
</div>
</div>
mail:~ # <div class="color1">/etc/init.d/postfix restart </div><br>
mail:~ # <div class="color1">/etc/init.d/cyrus restart </div><br>
</td>
</tr>
</table>
<table class="base_win" summary="2-1">
<tr>
<td class="num">[3]</td>
<td>For Email Client's settings, (Windows Live Mail)<br>
Open the property of an account and change settings like following example. (if you use PO3S, input '995 for incoming mail)
</td>
</tr>
</table>
<table class="base_win" summary="2-2">
<tr>
<td>
<img src="SUSE_Linux_Enterprise_Server_11\mail\img\6.png" width="421" height="512" alt="" class="img" style="max-width: 421px; width: 100%; height: auto;">
</td>
</tr>
</table>
<table class="base_win" summary="2-3">
<tr>
<td class="num">[4]</td>
<td>Click sync button on Windows Live Mail, then following warning is shown because certificates is own created on your server. 
It's no ploblem. Click 'Yes' to proceed, then it's possible to send/receive emails through SSL connection.
</td>
</tr>
</table>
<table class="base_win" summary="2-4">
<tr>
<td>
<img src="SUSE_Linux_Enterprise_Server_11\mail\img\7.png" width="370" height="253" alt="" class="img" style="max-width: 370px; width: 100%; height: auto;">
</td>
</tr>
</table>
<div style="width: 100%; border-top: 1px #696969 solid; padding-top: 20px; padding-bottom: 20px;">
<div style="width: 728px; height: 90px; margin-left: auto; margin-right: auto;">
<script type="text/javascript">
    google_ad_client = "ca-pub-6423793798099903";
    google_ad_slot = "3679227322";
    google_ad_width = 728;
    google_ad_height = 90;
</script>
<script type="text/javascript" src="//pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>
</div>
</div>
<div id="right">
<div class="os">MAIL Server</div>
<div class="navi2">
<ul>
<li><a href="note (2335).html">Install Postfix</a></li>
<li><a href="note (2336).html">Install Cyrus-IMAP</a></li>
<li><a href="note (2337).html">Email Client Setting</a></li>
<li><a href="note (2338).html">SSL Settings</a></li>
</ul>
</div>
<div style="width: 160px; text-align: center;">
<div style="display: inline-block; width: 100%; font-size: 12px; text-align: center; background-color: #dcdcdc; border-bottom: 1px solid #696969; border-top: 2px solid #dcdcdc;">Sponsored Link</div>
<script type="text/javascript">
    google_ad_client = "ca-pub-6423793798099903";
    google_ad_slot = "6315121180";
    google_ad_width = 160;
    google_ad_height = 600;
</script>
<script type="text/javascript" src="//pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>
</div>
<div id="footer">Copyright &copy; 2007-2018 Server World All Rights Reserved.
<script type="text/javascript" src="bin\count.js"></script>
<img src="../bin/count/count.cgi?1" width="1" height="1" alt="">
</div>
<div id="fb-root">&nbsp;</div>
<script type="text/javascript">(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
<div id="toolbar0">
<script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>
<g:plusone size="Medium"></g:plusone>
</div>
<div id="toolbar1">
<fb:like href="note (2356).html" send="true" layout="button_count" width="450" show_faces="true"></fb:like>
</div>
<div id="toolbar2">
<a href="https://twitter.com/share" class="twitter-share-button">Tweet</a>
<script type="text/javascript">!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-11962766-1");
pageTracker._trackPageview();
} catch(err) {}
</script>
</body>
</html>
